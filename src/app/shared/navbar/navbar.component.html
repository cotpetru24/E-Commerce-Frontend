<mat-sidenav-container class="sidenav-container">

  <mat-sidenav *ngIf="isSmallScreen" mode="over" [opened]="false">
    <mat-nav-list>
      <a mat-list-item routerLink="/" (click)="closeDrowerIfMobile()">Home</a>
      <a mat-list-item routerLink="/products" (click)="closeDrowerIfMobile()">All Products</a>
      <a mat-list-item routerLink="/products/men" (click)="closeDrowerIfMobile()">Men</a>
      <a mat-list-item routerLink="/products/women" (click)="closeDrowerIfMobile()">Women</a>
      <a mat-list-item routerLink="/products/children" (click)="closeDrowerIfMobile()">Children</a>
      <a mat-list-item routerLink="/cart/view" (click)="closeDrowerIfMobile()">Cart</a>
      <a mat-list-item routerLink="/auth/login" (click)="closeDrowerIfMobile()">Login</a>
      <a mat-list-item routerLink="/admin" (click)="closeDrowerIfMobile()">Admin</a>
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <mat-toolbar color="primary" class="top-nav">
      <button *ngIf="isSmallScreen" mat-icon-button (click)="toggleDrawer()">
        <mat-icon>menu</mat-icon>
      </button>

      <a routerLink="/" class="brand">
        <mat-icon>sports_soccer</mat-icon>
        <span>ShoeStore</span>
      </a>
      
      <span class="spacer"></span>

      <ng-container *ngIf="!isSmallScreen">
        <a mat-button routerLink="/" routerLinkActive="active">Home</a>
        
        <!-- Shop Dropdown -->
        <div class="shop-dropdown" (mouseenter)="showShopDropdown = true" (mouseleave)="showShopDropdown = false">
          <button mat-button class="shop-button">
            Shop
            <mat-icon>expand_more</mat-icon>
          </button>
          <div class="dropdown-content" [class.show]="showShopDropdown">
            <a mat-button routerLink="/products" (click)="showShopDropdown = false">All Products</a>
            <a mat-button routerLink="/products/men" (click)="showShopDropdown = false">Men</a>
            <a mat-button routerLink="/products/women" (click)="showShopDropdown = false">Women</a>
            <a mat-button routerLink="/products/children" (click)="showShopDropdown = false">Children</a>
          </div>
        </div>
        
        <a mat-button routerLink="/cart/view" routerLinkActive="active">
          <mat-icon>shopping_cart</mat-icon>
          Cart
          <span class="cart-badge" *ngIf="cartItemCount > 0">{{ cartItemCount }}</span>
        </a>
        <a mat-button routerLink="/auth/login" routerLinkActive="active">
          <mat-icon>person</mat-icon>
          Login
        </a>
        <a mat-button routerLink="/admin" routerLinkActive="active">
          <mat-icon>admin_panel_settings</mat-icon>
          Admin
        </a>
      </ng-container>
    </mat-toolbar>

    <div class="main-content">
      <router-outlet></router-outlet>
    </div>

  </mat-sidenav-content>

</mat-sidenav-container>